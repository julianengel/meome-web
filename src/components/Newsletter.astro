---

---

<section class="relative py-24 bg-indigo-600 dark:bg-indigo-900">
    <!-- Background pattern -->
    <div class="absolute inset-0 opacity-10">
        <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern
                    id="grid"
                    width="32"
                    height="32"
                    patternUnits="userSpaceOnUse"
                >
                    <path
                        d="M0 32V.5H32"
                        fill="none"
                        stroke="currentColor"
                        stroke-opacity="0.2"></path>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl mx-auto text-center fade-in">
            <h2
                class="text-3xl font-bold tracking-tight text-white sm:text-4xl"
            >
                Stay Updated on Our Journey
            </h2>
            <p class="mt-4 text-lg text-indigo-100">
                Subscribe to our newsletter for insights on company building,
                lessons learned, and new ventures.
            </p>

            <form
                id="newsletter-form"
                class="mt-8 sm:flex justify-center max-w-xl mx-auto"
            >
                <label for="email-address" class="sr-only">Email address</label>
                <input
                    id="email-address"
                    name="email"
                    type="email"
                    autocomplete="email"
                    required
                    class="w-full px-5 py-3 placeholder-gray-500 focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white rounded-md"
                    placeholder="Enter your email"
                />
                <button
                    type="submit"
                    class="mt-3 sm:mt-0 sm:ml-3 w-full sm:w-auto flex-shrink-0 px-5 py-3 bg-white text-base font-medium text-indigo-600 hover:bg-indigo-50 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white transition-colors"
                >
                    Subscribe
                </button>
            </form>

            <!-- Success message -->
            <div
                id="success-message"
                class="hidden mt-4 p-4 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-100 rounded-md"
            >
                Thanks for subscribing! We'll be in touch soon.
            </div>

            <!-- Error message -->
            <div
                id="error-message"
                class="hidden mt-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-md"
            >
                Oops! Something went wrong. Please try again.
            </div>

            <p class="mt-4 text-sm text-indigo-100">
                We care about your data. Read our
                <a href="/privacy" class="font-medium text-white underline">
                    Privacy Policy
                </a>
            </p>
        </div>
    </div>
</section>

<script>
    const form = document.getElementById("newsletter-form") as HTMLFormElement;
    const successMessage = document.getElementById("success-message");
    const errorMessage = document.getElementById("error-message");

    form?.addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = (
            document.getElementById("email-address") as HTMLInputElement
        ).value;
        const submitButton = form.querySelector(
            'button[type="submit"]',
        ) as HTMLButtonElement;

        // Disable button and show loading state
        submitButton.disabled = true;
        submitButton.innerHTML = "Subscribing...";

        try {
            // Replace with your actual API endpoint
            const response = await fetch("/api/subscribe", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({ email }),
            });

            if (response.ok) {
                successMessage?.classList.remove("hidden");
                errorMessage?.classList.add("hidden");
                form.reset();
            } else {
                throw new Error("Subscription failed");
            }
        } catch (error) {
            successMessage?.classList.add("hidden");
            errorMessage?.classList.remove("hidden");
        } finally {
            // Reset button state
            submitButton.disabled = false;
            submitButton.innerHTML = "Subscribe";
        }
    });
</script>
